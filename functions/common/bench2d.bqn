# Benchmarks on 2D arrays with 1e4 total elements
âŸ¨basenameâŸ© â† âŠ‘â€¢args
tname â† (-Â´"Aa")âŠ¸+âŒ¾âŠ‘ basename

scales     â† â€¢Import "../../measure/scale.bqn"
ns         â† â€¢Import "../../params/ns_v.bqn"

Bench2d â† { mextâ€¿modâ€¿mname ğ•Š dat:
  âŸ¨paramsâŸ© â‡ extâ€¿fnameâ€¿argâ€¿GetTime â† dat
  arg " "âŠ¸âˆ¾âŸ(0<â‰ )â†© â‹„ ext "-"âŠ¸âˆ¾âŸ(0<â‰ )â†©
  plotname â‡ âˆ¾tname   â€¿mextâ€¿" "â€¿fnameâ€¿mnameâ€¿" of"â€¿argâ€¿" rank 2 array"
  name     â‡ âˆ¾basenameâ€¿mextâ€¿"-2d"â€¿ext
  total â† 10â‹†eâ†4
  input â‡ {
    name â‡ "Width"
    range â‡ 1.5 scales._exp2d total
    FilterMin â‡ Â¬âˆŠâŸœ(0â€¿Â¯1âŠrange)
  }
  result â‡ ns
  Measure â‡ {
    Flip â† totalâŒˆâˆ˜Ã·âŠ¢  # Length of other dimension
    Len â‡ FlipâŠ¸Ã—
    TimeParams â‡ (mod GetTime ğ•©)âˆ˜(FlipâŠ¸â‹ˆ)
    timeInit â‡ 1e5â€¿1â€¿1e3
  }
  plotOpts â‡ {
    title â‡ plotname
    x â‡ input
    y â‡ result
    key â‡ âŠ‘params
  }
}
