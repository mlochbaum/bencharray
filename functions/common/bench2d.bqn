# Benchmarks on 2D arrays with 1e4 total elements
âŸ¨basenameâŸ© â† âŠ‘â€¢args
tname â† (-Â´"Aa")âŠ¸+âŒ¾âŠ‘ basename

scales     â† â€¢Import "../../measure/scale.bqn"
ns         â† â€¢Import "../../params/ns_v.bqn"

Bench2d â† { mextâ€¿modâ€¿mname ğ•Š dat:
  âŸ¨paramsâŸ© â‡ extâ€¿GetTime â† dat
  plotname â‡ {
    âŸ¨râ‡plotnameâŸ©: r;
    âŸ¨fname,argâŸ©: âˆ¾âŸ¨tname,mext," ",fname,mname
                   " of"," "âŠ¸âˆ¾âŸ(0<â‰ )arg," rank 2 array"âŸ©
  } dat
  name â‡ âˆ¾âŸ¨basename,mext,"-2d","-"âŠ¸âˆ¾âŸ(0<â‰ )extâŸ©
  total â† 10â‹†eâ†4
  input â‡ {
    name â‡ "Width"
    range â‡ scales.E2d11 total
    FilterMin â‡ Â¬âˆŠâŸœ(0â€¿Â¯1âŠrange)
  }
  result â‡ {âŸ¨râ‡resultâŸ©:r; ns} dat
  getLen â† {âŸ¨râ‡getLenâŸ©:r; Ã—} dat
  Measure â‡ {
    Flip â† totalâŒˆâˆ˜Ã·âŠ¢  # Length of other dimension
    Len â‡ FlipâŠ¸GetLen
    TimeParams â‡ (mod GetTime ğ•©)âˆ˜(FlipâŠ¸â‹ˆ)
    timeInit â‡ 1e5â€¿1â€¿1e3
  }
  plotOpts â‡ {
    title â‡ plotname
    x â‡ input
    y â‡ result
    key â‡ âŠ‘params
  }
}
