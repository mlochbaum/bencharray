# Group âŠ”

ns    â† â€¢Import "../params/ns_v.bqn"
types â† â€¢Import "../params/numtype.bqn"
scale â† â€¢Import"../measure/scale.bqn"

Bench â† {
  inputâ€¿measure â‡ extâ€¿plotname â† ğ•©
  name â‡ "group-"âˆ¾ext

  result â‡ ns
  params â‡ âŸ¨typesâŸ©

  plotOpts â‡ {
    title â‡ plotname
    x â‡ input
    y â‡ result
    labels â‡ types.labels
    Order â‡ âŒ½
  }
}

BenchÂ¨ âŸ¨
  {
    ext â‡ "density-rand"
    plotname â‡ "1e5 elements to 1e3 groups with âŠ”"
    input â‡ {
      name â‡ "Left argument non-negative density"
      max â‡ 1
      log â‡ 0 â‹„ Trans â‡ 1.6âŠ¸âˆš
      range â‡ Ã—Ëœ â†•âŠ¸âˆ¾âŠ¸Ã· 10
    }
    Measure â‡ { ğ•Š âŸ¨typeâŸ©:
      len â‡ 1e5
      base â† len (âŸ¨1e3âŸ©â€¢Import"../measure/gen.bqn").Rand 1e3
      TimeParams â‡ {
        âŸ¨âŠ”, {Â¯1Â¨âŒ¾(ğ•©âŠ¸âŠ)base} (âŒŠ0.5+lenÃ—Â¬ğ•©) â€¢rand.Subset lenË™, type.GetGen lenâŸ©
      }
    }
  }
  {
    ext â‡ "range-sort"
    plotname â‡ "Partitioning 1e5 elements with âŠ”"
    input â‡ {
      name â‡ "Number of groups"
      max â‡ 1e6
      range â‡ scale.E23 max
    }
    Measure â‡ { ğ•Š âŸ¨typeâŸ©:
      len â‡ 1e5
      TimeParams â‡ {
        Grp â† âˆ§ len (âŸ¨ğ•©âŸ©â€¢Import"../measure/gen.bqn").Rand ğ•©Ë™
        âŸ¨âŠ”, Grp, type.GetGen lenâŸ©
      }
    }
  }
âŸ©
